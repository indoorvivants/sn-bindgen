---
title: Quick start
mdoc: true
---

Quickest way to start would be to use the [template](https://github.com/keynmol/sn-bindgen-template/).

For more involved examples, see a [dedicated repository](https://github.com/keynmol/sn-bindgen-examples/)

## Pre-requisites

The bindgen's binary is dynamically linked against Clang 14.

Therefore you must have it installed on the system that _generates_ the code, you can follow [Scala Native's instructions](https://scala-native.readthedocs.io/en/latest/user/setup.html#installing-clang-and-runtime-dependencies).

Code generated by bindgen has no runtime dependencies on bindgen, LLVM, or Clang.

## Supported platforms

<div class = "text-small">
    <style type="text/css">
        table,th,td {
            border: 1px solid lightgrey;
            border-collapse:collapse;
            padding: 6px;
        }
        th {
            background-color:lightgrey;
            font-weight: bold;
        }
    </style>
    <table>
        <thead>
            <tr>
                <th>OS</th>
                <th>Architecture</th>
                <th>Tested on CI</th>
                <th>Binary on Maven</th>
                <th>Binary on Github releases</th>
                <th>Comments</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Linux</td>
                <td>x64</td>
                <td>✅</td>
                <td>✅</td>
                <td>✅</td>
            </tr>
            <tr>
                <td class='whitespace-nowrap'>Mac OS X</td>
                <td>x64</td>
                <td>✅</td>
                <td>✅</td>
                <td>✅</td>
            </tr>
            <tr>
                <td>Windows</td>
                <td>x64</td>
                <td>✅</td>
                <td>✅</td>
                <td>✅</td>
            </tr>
            <tr>
                <td class='whitespace-nowrap'>Mac OS X</td>
                <td class='whitespace-nowrap'>M1 (arm64)</td>
                <td>❌¹</td>
                <td>❌</td>
                <td>✅²</td>
                <td>
                    <p>¹ Works with high confidence, M1 is my primary machine for developing this project</p>
                    <p>² SBT plugin will use that as a fallback (only for
                        stable versions)</p>
                </td>
            </tr>
            <tr>
                <td>Linux</td>
                <td>arm64</td>
                <td>❌</td>
                <td>❌</td>
                <td>❌</td>
                <td>Anecdotal evidence that it works, I run tests in an arm64 VM sometimes</td>
            </tr>
            <tr>
                <td>Windows</td>
                <td>arm64</td>
                <td>❌</td>
                <td>❌</td>
                <td>❌</td>
                <td>Anecdotal evidence that it works, I run tests in an arm64 VM sometimes</td>
            </tr>
        </tbody>
    </table>
</div>


## Installing SBT plugin (stable)

**project/plugins.sbt**
```scala
addSbtPlugin("com.indoorvivants" % "bindgen-sbt-plugin" % "@STABLE_VERSION@")
```

## Installing SBT plugin (latest)

**project/plugins.sbt**
```scala
resolvers += Resolver.sonatypeRepo("snapshots")
addSbtPlugin("com.indoorvivants" % "bindgen-sbt-plugin" % "@VERSION@")
```

## Usage

**build.sbt**

```scala
// only add this line if you're living on the edge and using 
// a version that has "SNAPSHOT" in it
resolvers += Resolver.sonatypeRepo("snapshots")
scalaVersion := "3.2.2"

enablePlugins(ScalaNativePlugin, BindgenPlugin)

import bindgen.interface.Binding

bindgenBindings := Seq(
  Binding
    .builder(
      /* 1 */  (Compile / resourceDirectory).value / "scala-native" / "header.h",
      /* 2 */  "libtest"
    )
    .addCImport("header.h") /* 3 */
    .build
  )
)
```

1. Path to the header file - in this example we're putting it into a location
   recognised by Scala Native's SBT plugin, any sources there will be linked alongside
   the Scala sources
2. Package name where generated definitions will be put
3. List of imports that will be added to generated C files (if there are any, see [Semantics](/semantics) page for details)

There are more settings available, see [Configuration](/configuration#sbt-plugin) page for details.

Now all that is left to do is put some definitions into the header file:

```scala mdoc:passthrough
val cSource = 
"""
typedef enum { X = 1, Y = 2} bla;
void sum(bla one, bla two);
"""
println(bindgen.BindgenRender.render(cSource, "libtest", Option("src/main/resources/scala-native/header.h")))
```

After that in your Scala sources you can use `libtest` package to access the 
generated bindings.

